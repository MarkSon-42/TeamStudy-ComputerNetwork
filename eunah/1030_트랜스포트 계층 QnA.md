# 트랜스포트 계층

### **Q1: 트랜스포트 계층이 무엇인가요?**

트랜스포트 계층은 서로 다른 호스트에서 동작하는 애플리케이션 프로세스 간의 논리적 통신을 제공하는 계층입니다. 

네트워크 구조에서 애플리케이션 계층과 네트워크 계층 사이에 위치하며, 종단 시스템에서만 구현됩니다.

### **Q2: 트랜스포트 계층의 주요 기능은 무엇인가요?**

트랜스포트 계층의 주요 기능은 다음과 같습니다:

- 메시지를 세그먼트로 분할하고 재조립
- 다중화/역다중화를 통한 데이터 전송 관리
- 포트 번호를 통한 애플리케이션 식별
- 신뢰성 있는 데이터 전송 보장 (TCP의 경우)

### **Q3: TCP와 UDP의 차이점을 설명해주세요.**

TCP와 UDP는 다음과 같은 특징을 가집니다

UDP:

- 애플리케이션이 즉시성(실시간성)을 요구할 때
- 비연결형으로 신뢰성 없는 데이터 전송
- 단순하고 빠른 전송 가능
- 헤더 오버헤드가 적음
- 실시간 스트리밍, 게임 등에 적합

TCP:

- 애플리케이션이 신뢰성을 요구할 때
- 연결지향형으로 신뢰성 있는 데이터 전송
- 흐름 제어와 혼잡 제어 제공
- 전이중 통신 지원
- 웹, 이메일 등 신뢰성이 중요한 서비스에 사용

### Q4: UDP와 TCP의 차이점과 각각을 사용해야 하는 이유를 설명해주세요.

UDP는 빠른 속도가 필요하고 약간의 데이터 손실이 허용되는 실시간 서비스에 사용하고, TCP는 데이터 신뢰성이 중요한 웹서비스, 파일전송 등에 사용합니다. 

UDP는 헤더가 단순하고 연결설정 과정이 없어 오버헤드가 적은 반면, TCP는 데이터 순서 보장과 재전송으로 신뢰성을 보장합니다.

### Q5: TCP/UDP와 방화벽이 어떻게 연관되어 있는지 설명해주세요.

방화벽은 TCP의 경우 연결 상태를 추적하여 비정상적인 패킷을 차단하고, UDP의 경우 포트 기반으로 필터링합니다. 

이를 통해 무분별한 네트워크 접근과 DDoS 같은 공격을 방지할 수 있습니다.

### 꼬리질문: 웹 서비스 개발 시 방화벽 설정에서 주의할 점은?

필요한 포트만 개방하고, TCP 연결의 타임아웃 설정을 적절히 하여 좀비 커넥션을 방지해야 합니다. 

또한 로드밸런서나 프록시 서버의 IP를 고려한 방화벽 규칙 설정이 필요합니다.

### **Q6: 다중화와 역다중화에 대해 설명해주세요.**

다중화는 여러 소켓으로부터 데이터를 수집하여 헤더를 추가한 후 네트워크 계층으로 전달하는 과정입니다. 

역다중화는 수신된 세그먼트를 해당하는 올바른 소켓으로 전달하는 과정입니다. 이 과정에서 포트 번호가 중요한 역할을 합니다.

### **Q7: 포트 번호의 역할은 무엇인가요?**

포트 번호는 네트워크 통신에서 특정 애플리케이션을 식별하기 위한 주소 체계입니다. 

이를 통해 전송 계층은 여러 애플리케이션 간의 통신을 구분하고 관리할 수 있으며, 올바른 애플리케이션으로 데이터를 전달할 수 있습니다.

### Q8: 포트 번호의 범위와 용도에 대해 설명해주세요.

0-1023은 잘 알려진 포트로 HTTP(80), HTTPS(443) 등이 있고, 1024-49151은 등록된 포트, 49152-65535는 동적/사설 포트입니다. 

웹 서비스 개발 시 포트 충돌을 피하고 보안을 고려한 포트 선택이 중요합니다.

---

# UDP 관련 질문

### Q1: UDP의 특징과 TCP와의 주요 차이점을 설명해주세요.

UDP는 비연결형 프로토콜로, 데이터 전송 시 신뢰성보다는 속도를 중시합니다. 

TCP와 달리 흐름제어나 오류제어를 하지 않아 패킷 손실이 발생할 수 있지만, 실시간 스트리밍이나 게임 등 빠른 전송이 중요한 서비스에 적합합니다.

### 꼬리질문: UDP가 주로 사용되는 구체적인 서비스 사례를 들어볼 수 있나요?

DNS 조회, VoIP 통신, 온라인 게임의 실시간 위치 데이터 전송, 실시간 동영상 스트리밍 등에서 사용됩니다.

### Q2: UDP 헤더의 구조에 대해 설명해주세요.

UDP 헤더는 매우 단순한 구조로, 출발지 포트(16비트), 목적지 포트(16비트), 길이(16비트), 체크섬(16비트)으로 구성된 총 8바이트 크기입니다.

### Q3: 방화벽에서 UDP 트래픽을 어떻게 처리하는지 설명해주세요.

UDP는 상태를 유지하지 않기 때문에, 방화벽은 주로 출발지/목적지 IP와 포트 번호를 기반으로 필터링합니다. 

일반적으로 타임아웃 기반으로 임시 세션을 생성하여 관리합니다.

### Q4: UDP의 구조와 특징이 실제 개발에서 어떤 이점을 가져다주나요?

UDP는 헤더가 단순하고 상태를 유지하지 않아 서버 리소스 사용이 적습니다. 

실시간 게임의 위치 데이터나 스트리밍 서비스에서 지연 시간을 최소화할 수 있어, 사용자 경험을 향상시킬 수 있습니다.

### 꼬리질문: DNS가 UDP를 사용하는 이유는 무엇인가요?

DNS 쿼리는 단순하고 짧은 데이터를 주고받기 때문에 TCP의 연결 설정 과정이 오히려 오버헤드가 됩니다. 

UDP를 사용하면 빠른 응답이 가능하고 서버 리소스도 절약할 수 있습니다.

---

# TCP 관련 질문

### Q1: TCP의 3-way handshake 과정을 설명해주세요.

클라이언트가 SYN을 보내고, 서버가 SYN+ACK로 응답하며, 마지막으로 클라이언트가 ACK를 보내는 과정입니다. 

이를 통해 양방향 연결이 수립되고 초기 시퀀스 번호가 동기화됩니다.

### 꼬리질문: 4-way handshake는 언제 일어나나요?

TCP 연결 종료 시 발생합니다. 

한 쪽이 FIN을 보내고 상대방이 ACK로 응답한 후, 다시 상대방이 FIN을 보내고 마지막으로 ACK를 받으면 연결이 종료됩니다.

### Q2: TCP 헤더의 주요 필드들에 대해 설명해주세요.

출발지/목적지 포트(각 16비트), 시퀀스 번호(32비트), ACK 번호(32비트), 플래그 비트들(URG, ACK, PSH, RST, SYN, FIN), 윈도우 크기(16비트) 등이 있습니다.

### Q3: TCP의 흐름제어와 혼잡제어의 차이점을 설명해주세요.

흐름제어는 수신자의 처리 속도를 고려하여 전송 속도를 조절하는 것이고, 혼잡제어는 네트워크의 전반적인 혼잡 상태를 고려하여 전송 속도를 조절하는 것입니다.

### Q4: TCP 방화벽의 동작 방식에 대해 설명해주세요.

TCP 방화벽은 연결의 상태를 추적하며, SYN, SYN-ACK, ACK 등의 패킷을 모니터링하여 정상적인 연결 수립 과정을 확인합니다. 

비정상적인 패킷 시퀀스는 차단됩니다.

### 꼬리질문: SYN Flooding 공격을 방지하기 위한 방화벽의 역할은?

SYN Cookies 사용, 연결 요청 임계값 설정, 동일 IP에서의 연속적인 SYN 패킷 제한 등을 통해 DDoS 공격을 방지합니다.

### Q5: TCP의 연결 설정 과정이 왜 필요한지 설명해주세요.

TCP의 3-way handshake는 양쪽이 서로 통신할 준비가 되었는지 확인하고, 초기 시퀀스 번호를 동기화하여 데이터 순서를 보장합니다. 

이는 신뢰성 있는 데이터 전송의 기초가 됩니다.

### Q6: TCP의 혼잡제어가 실제 서비스에 미치는 영향을 설명해주세요.

TCP의 혼잡제어는 네트워크 상황에 따라 전송 속도를 조절하여 패킷 손실을 방지합니다. 

이는 대규모 트래픽 처리 시 네트워크의 안정성을 보장하지만, 때로는 전송 속도가 느려질 수 있어 이를 고려한 서비스 설계가 필요합니다.

### 꼬리질문: Keep-Alive 설정이 왜 중요한가요?

Keep-Alive는 TCP 연결을 재사용하여 반복적인 handshake 과정을 줄여줍니다. 

이는 웹 서비스의 응답 시간을 개선하고 서버 리소스를 효율적으로 사용할 수 있게 해줍니다.

### Q7: 웹 소켓은 왜 TCP를 사용할까요?

웹소켓은 실시간 양방향 통신이 필요하지만, 메시지의 신뢰성과 순서 보장도 중요합니다. 

TCP의 연결 지향적 특성이 웹소켓의 이러한 요구사항을 충족시킬 수 있기 때문입니다.
