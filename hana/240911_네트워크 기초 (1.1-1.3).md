# 240911_네트워크 기초

## 1. HTTP 프로토콜에 대해 설명해주세요.

HTTP(Hyper Text Transfer Protocol)이란 텍스트 기반의 통신 규약으로 **인터넷에서 데이터를 주고받을 수 있는 프로토콜**이다. (TCP/ IP를 이용하는 응용 프로토콜)

HTTP는 연결 상태를 유지하지 않는 비연결성 프로토콜이며 요청/응답 방식으로 동작한다. 이전 통신의 정보를 모르기 때문에 매번 인증을 해줘야 하는데 쿠키(cookie)나 세션(session)을 사용해서 데이터를 처리한다.통신간의 연결 상태 처리나 상태 정보를 관리할 필요가 없어 서버 디자인이 간단하다. 각각의 HTTP 요청에 독립적으로 응답을 보내주는 방식이다. 

HTML 문서만이 HTTP 통신을 위한 유일한 정보 문서는 아니다. Plain text로 부터 JSON 데이터 및 XML과 같은 형태의 정보도 주고 받을 수 있으며, 보통은 클라이언트가 어떤 정보를 HTML 형태로 받고 싶은지, JSON 형태로 받고 싶은지 명시해주는 경우가 많다.

## **2. HTTP와 HTTPS의 차이점에 대해 설명해주세요.**

HTTP는 평문 데이터를 전송하는 프로토콜이기 때문에, HTTP로 중요한 정보를 주고 받으면 제 3자에 의해 조회될 수 있다. 이러한 문제를 해결하기 위해 HTTP에 암호화가 추가된 프로토콜이 HTTPS이다. HTTPS는 SSL의 껍질을 덮어쓴 HTTP라고 할 수 있다. HTTP는 원래 TCP와 직접 통신했지만, HTTPS에서 HTTP는 SSL과 통신하고 SSL이 TCP와 통신함으로써 암호화 통신이 이루어진다.

- SSL(Secure Socket Layer) : 인터넷을 통해 전달되는 정보를 보호하기 위해 개발한 통신 규약

## 3. HTTP의 보안이 취약한 이유에 대해 설명해주세요.

- HTTP 는 평문 통신이기 때문에 도청이 가능하다.
- 통신 상대를 확인하지 않기 때문에 위장이 가능하다.
- 완전성을 증명할 수 없기 때문에 변조가 가능하다.

*(다른 암호화하지 않은 프로토콜에도 공통되는 문제점이다)*

**3-1. TCP/IP 는 도청 가능한 네트워크이다.**

TCP/IP 구조의 통신은 전부 통신 경로 상에서 엿볼 수 있다. 패킷을 수집하는 것만으로 도청할 수 있다. 평문으로 통신을 할 경우 메시지의 의미를 파악할 수 있기 때문에 암호화하여 통신해야 한다.

- **보완 방법**
    1. 통신 자체를 암호화 `SSL(Secure Socket Layer)` or `TLS(Transport Layer Security)`라는 다른 프로토콜을 조합함으로써 HTTP 의 통신 내용을 암호화할 수 있다. SSL 을 조합한 HTTP 를 `HTTPS(HTTP Secure)` or `HTTP over SSL`이라고 부른다.
    2. 콘텐츠를 암호화 말 그대로 HTTP 를 사용해서 운반하는 내용인, HTTP 메시지에 포함되는 콘텐츠만 암호화하는 것이다. 암호화해서 전송하면 받은 측에서는 그 암호를 해독하여 출력하는 처리가 필요하다.

**3-2. 통신 상대를 확인하지 않기 때문에 위장이 가능하다.**

HTTP 에 의한 통신에는 상대가 누구인지 확인하는 처리는 없기 때문에 누구든지 리퀘스트를 보낼 수 있다. IP 주소나 포트 등에서 그 웹 서버에 액세스 제한이 없는 경우 리퀘스트가 오면 상대가 누구든지 무언가의 리스폰스를 반환한다. 이러한 특징은 여러 문제점을 유발한다.

1. 리퀘스트를 보낸 곳의 웹 서버가 원래 의도한 리스폰스를 보내야 하는 웹 서버인지를 확인할 수 없다.
2. 리스폰스를 반환한 곳의 클라이언트가 원래 의도한 리퀘스트를 보낸 클라이언트인지를 확인할 수 없다.
3. 통신하고 있는 상대가 접근이 허가된 상대인지를 확인할 수 없다.
4. 어디에서 누가 리퀘스트 했는지 확인할 수 없다.
5. 의미없는 리퀘스트도 수신한다. —> DoS 공격을 방지할 수 없다.
- **보완 방법**
    
    위 암호화 방법으로 언급된 `SSL`로 상대를 확인할 수 있다. SSL 은 상대를 확인하는 수단으로 **증명서** 를 제공하고 있다. 증명서는 신뢰할 수 있는 **제 3 자 기관에 의해** 발행되는 것이기 때문에 서버나 클라이언트가 실재하는 사실을 증명한다. 이 증명서를 이용함으로써 통신 상대가 내가 통신하고자 하는 서버임을 나타내고 이용자는 개인 정보 누설 등의 위험성이 줄어들게 된다. 한 가지 이점을 더 꼽자면 클라이언트는 이 증명서로 본인 확인을 하고 웹 사이트 인증에서도 이용할 수 있다.
    

**3-3. 완전성을 증명할 수 없기 때문에 변조가 가능하다**

여기서 완전성이란 **정보의 정확성** 을 의미한다. 서버 또는 클라이언트에서 수신한 내용이 송신측에서 보낸 내용과 일치한다라는 것을 보장할 수 없는 것이다. 리퀘스트나 리스폰스가 발신된 후에 상대가 수신하는 사이에 누군가에 의해 변조되더라도 이 사실을 알 수 없다. 이와 같이 공격자가 도중에 리퀘스트나 리스폰스를 빼앗아 변조하는 공격을 중간자 공격(Man-in-the-Middle)이라고 부른다.

- **보완 방법**
    
    `MD5`, `SHA-1` 등의 해시 값을 확인하는 방법과 파일의 디지털 서명을 확인하는 방법이 존재하지만 확실히 확인할 수 있는 것은 아니다. 확실히 방지하기에는 `HTTPS`를 사용해야 한다. SSL 에는 인증이나 암호화, 그리고 다이제스트 기능을 제공하고 있다.
    

## **4. SSL**(Secure Socket Layer) **인증서에 대해 설명해주세요.**

SSL 프로토콜에 사용되는 인증서로 클라이언트가 접속한 서버가 신뢰할 수 있는 서버임을 보증하며, 통신에 사용할 공개키를 클라이언트에 전달합니다. 이 인증서에는 서비스 정보인 CA 정보와 도메인 등의 세부 정보과 서버 측 공개키도 포함되어 안전한 통신을 구현한다.

- **CA(Certificate Authority)**
    - SSL 인증서를 발급해주는 제 3자이다.
    - 브라우저는 신뢰할 수 있는 CA(공인 CA)들과 해당 CA의 공개키를 알고있다.

## **5. SSL 동작원리에 대해 설명해주세요.**

SSL은 대칭키, 공개키를 함께 사용한다. 공개키 방식은 보안이 뛰어나지만 암호화/복호화 과정에서 컴퓨팅파워를 소모하므로 데이터 전달에는 대칭키를 쓰고, 대칭키를 교환할 때는 공개키 방식을 사용하여 안전한 통신을 구현한다.

- **대칭키 방식**
    - 동일한 하나의 키(대칭키)로 암호화와 복호화를하는 방식
    - 암호화 통신을 하기 위해선 대칭키를 주고 받아야 하기 때문에 키가 유출될 가능성이 있다.
- **공개키 방식( = 비대칭키 방식)**
    - 두개의 키(공개키, 비밀키)로 암호화 및 복호화하는 방식.
    - 공개키로 암호화 -> 비밀키로 복호화 / 비밀키로 암호화 -> 공개키로 복호화

## 6. OSI 7 layer와 각 계층에 대해 아는 대로 설명해주세요.

- 7 계층(응용 계층) : 사용자에게 통신을 위한 서비스 제공. 인터페이스 역할
- 6 계층(표현 계층) : 데이터의 형식(Format)을 정의하는 계층 (코드 간의 번역을 담당)
- 5 계층(세션 계층) : 컴퓨터끼리 통신을 하기 위해 세션을 만드는 계층
- 4 계층(전송 계층) : 최종 수신 프로세스로 데이터의 전송을 담당하는 계층 (단위 :Segment) (ex. TCP, UDP)
- 3 계층(네트워크 계층) : 패킷을 목적지까지 가장 빠른 길로 전송하기 위한 계층 (단위 :Packet) (ex. Router)
- 2 계층(데이터링크 계층) : 데이터의 물리적인 전송과 에러 검출, 흐름 제어를 담당하는 계층 (단위 :frame) (ex. 이더넷)
- 1 계층(물리 계층) : 데이터를 전기 신호로 바꾸어주는 계층 (단위 :bit) (장비: 케이블,리피터,허브)

## 7. Packet의 구성 요소와 전송 순서에 대해 설명해 주세요.

패킷은  헤더(header)와 페이로드(payload)로 구성된다. 헤더는 송신자와 수신자의 IP 주소, 프로토콜 정보, 패킷 번호 등 메타데이터를 포함하며 페이로드는 실제 전송할 데이터이다.

- 전송 순서
    1. 데이터가 애플리케이션 계층에서 생성
    2. 데이터는 각 계층을 통과하며 헤더 추가
    3. 최종적으로 물리 계층에서 비트로 변환되어 전송
    4. 수신측에서는 반대로 각 계층의 헤더를 제거하며 데이터가 복원

## 8. IP 주소와 포트 번호의 역할과 차이점에 대해 설명해 주세요.

IP 주소: 네트워크 상의 장치를 구별하는 유일한 주소입니다. 데이터가 어디에서 왔고, 어디로 가는지를 나타냅니다.포트 번호: 특정 애플리케이션이나 서비스에 대한 연결을 식별합니다. 여러 애플리케이션이 동일한 IP 주소를 공유할 수 있도록 해줍니다.

차이점: IP 주소는 네트워크 장치의 위치를 나타내고, 포트 번호는 해당 장치에서 실행되는 특정 서비스나 애플리케이션을 구별합니다.

## **9. WAF와 전통적인 방화벽의 차이점**에 대해 설명해 주세요.

전통적인 방화벽은 네트워크 계층에서 트래픽을 필터링하는 반면, WAF는 애플리케이션 계층에서 동작하여 HTTP 요청의 내용을 분석합니다. WAF는 웹 애플리케이션 특유의 공격을 식별하고 차단할 수 있는 능력이 있어, 웹 기반 서비스의 보안 강화에 더욱 효과적입니다.

## **10. L7 로드밸런서의 장점**에 대해 설명해 주세요.

L7 로드밸런서는 HTTP 요청의 내용을 분석하여 더 정교한 트래픽 관리를 지원합니다. SSL 종료, URL 기반 라우팅, 콘텐츠 캐싱 기능을 제공하여 애플리케이션 성능과 사용자 경험을 최적화합니다. 또한, 특정 요청에 대해 맞춤형 처리를 할 수 있어 유연성이 높습니다.
